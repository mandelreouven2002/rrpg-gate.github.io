<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>砖注专 住 注 砖拽 转驻拽 砖专</title>
    <!-- Meta Tags for SEO and Social Media -->
    <meta name="description" content="专 拽祝 转 注 砖拽 转驻拽 砖专:   砖拽 转驻拽, 砖转 砖拽, 拽转, 住, 注住拽 .   砖爪专  转 转 专驻转拽 砖.">
    <meta name="keywords" content="rrpg, 专 爪专 抓', 专 抓', 砖拽 转驻拽 注 拽, RRPG.TOP, 驻,  专拽, 专转 砖驻, 驻转'驻专, 注转 驻专, 驻转'驻专 驻专, 专拽拽, 拽, 砖拽 转驻拽, RPG, 专驻, D&D,  专拽, 专转 砖驻, 驻转'驻专, 驻, 拽转 RPG 砖专, 住, , 驻专拽, 驻拽, 注转 砖拽 转驻拽, 砖注专 专驻转拽">
    <meta name="author" content="专 爪专-抓'">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="砖注专 住 注 砖拽 转驻拽 砖专">
    <meta property="og:description" content="专 拽祝 转 注 砖拽 转驻拽 砖专:   砖拽 转驻拽, 砖转 砖拽, 拽转, 住, 注住拽 .   砖爪专  转 转 专驻转拽 砖.">
    <meta property="og:url" content="https://www.rrpg.top">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="he_IL">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="砖注专 住 注 砖拽 转驻拽 砖专">
    <meta name="twitter:description" content="专 拽祝 转 注 砖拽 转驻拽 砖专:   砖拽 转驻拽, 砖转 砖拽, 拽转, 住, 注住拽 .   砖爪专  转 转 专驻转拽 砖.">
    <!-- Chosen Palette: Warm Parchment -->
    <!-- Application Structure Plan: The SPA is designed as a task-oriented, non-linear guide for newcomers. Instead of a linear report, it uses a top navigation bar to allow users to jump to sections that answer their immediate questions (What is it? How do I start? Who is the community? Where do I buy things?). This structure facilitates exploration and quick access to relevant information. Key sections like "Game Systems" and "Community" use interactive, filterable card-based layouts to present dense information in a digestible, user-controlled manner, improving usability over a static document. -->
    <!-- Visualization & Content Choices: 
        - Report Info: TTRPG vs LARP -> Goal: Inform/Compare -> Viz: Side-by-side flexbox cards with Unicode icons (, ). Interaction: Subtle hover effects. Justification: Quickly establishes the two main types of RPGs for a beginner. Method: HTML/Tailwind.
        - Report Info: D&D, S&W, Pathfinder, Savage Worlds (now "驻") -> Goal: Compare/Inform -> Viz: Interactive cards and a Chart.js horizontal bar chart comparing complexity. Interaction: Clicking cards reveals details; chart provides a quick visual summary. Justification: Breaks down a complex choice into manageable pieces and offers both a quick visual heuristic (chart) and in-depth info (cards). Library: Chart.js.
        - Report Info: Organizations, Events, Groups, Businesses -> Goal: Organize/Directory -> Viz: Filterable grid of cards. Interaction: Filter buttons to show/hide categories, and now "Show first 3" to limit displayed items. Justification: Allows users to easily find specific resources without scrolling through irrelevant information, and provides a quick overview option. Method: JS data arrays + Tailwind grid.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Assistant', sans-serif; scroll-behavior: smooth; }
        .card { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .card:hover { transform: translateY(-4px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .nav-link { position: relative; overflow: hidden; }
        .nav-link::after { content: ''; position: absolute; bottom: 0; left: 50%; width: 0; height: 2px; background-color: #4f46e5; transition: all 0.3s ease-in-out; transform: translateX(-50%); }
        .nav-link:hover::after { width: 100%; }
        .content-section { display: none; }
        .content-section.active { display: block; }
        .tab-btn.active { background-color: #4f46e5; color: white; }
        .details-content { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-out; }
        .chart-container { position: relative; width: 100%; max-width: 700px; margin-left: auto; margin-right: auto; height: 350px; max-height: 400px; }
        @media (min-width: 768px) { .chart-container { height: 400px; } }
        .contact-btn.active { background-color: #8b5cf6; color: white; } /* Purple for active contact button */
    </style>
</head>
<body class="bg-amber-50 text-stone-800">

    <header class="bg-white/80 backdrop-blur-sm shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3">
            <div class="flex justify-between items-center">
                <h1 class="text-xl md:text-2xl font-bold text-indigo-600">砖注专 专驻转拽 锔</h1>
                <div class="hidden md:flex space-x-reverse space-x-8">
                    <a href="#intro" class="nav-link text-stone-600 hover:text-indigo-600 font-semibold pb-1"> ?</a>
                    <a href="#systems" class="nav-link text-stone-600 hover:text-indigo-600 font-semibold pb-1"> 转?</a>
                    <a href="#community" class="nav-link text-stone-600 hover:text-indigo-600 font-semibold pb-1">拽</a>
                    <a href="#resources" class="nav-link text-stone-600 hover:text-indigo-600 font-semibold pb-1">驻 拽 砖拽?</a>
                    <a href="#contact" class="nav-link text-stone-600 hover:text-indigo-600 font-semibold pb-1">爪专 拽砖专</a>
                </div>
                <div class="md:hidden">
                    <select id="mobile-nav" class="bg-white border border-stone-300 rounded-md p-2 text-stone-700">
                        <option value="#intro"> ?</option>
                        <option value="#systems"> 转?</option>
                        <option value="#community">拽</option>
                        <option value="#resources">驻 拽 砖拽?</option>
                        <option value="#contact">爪专 拽砖专</option>
                    </select>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        
        <section id="intro" class="text-center mb-16 pt-10">
            <h2 class="text-4xl md:text-5xl font-bold mb-4 text-stone-900">专  注 砖拽 转驻拽</h2>
            <p class="max-w-3xl mx-auto text-lg text-stone-600 mb-8">
                专   拽转 转 砖.  转  砖拽 转驻拽, 转 注 砖转 砖拽 转 转爪 转 拽转, 专注 转 砖注专  爪转 专驻转拽 专砖 砖.
            </p>
            <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <div class="card bg-white p-6 rounded-lg shadow-lg border border-stone-200 text-right">
                    <h3 class="text-2xl font-bold mb-3 text-indigo-700 flex items-center justify-start"><span class="text-3xl ml-3"></span>砖拽 转驻拽 砖 (TTRPG)</h3>
                    <p class="text-stone-600"> 砖 住驻专 砖转驻 住 砖 ( ). 注专转 , 住 拽, 拽转 , 转 专 砖 爪专  住驻专 专驻转拽转 . 砖  注 爪专转转, 驻转专 注转 注转 爪转.</p>
                </div>
                <div class="card bg-white p-6 rounded-lg shadow-lg border border-stone-200 text-right">
                    <h3 class="text-2xl font-bold mb-3 text-teal-700 flex items-center justify-start"><span class="text-3xl ml-3"></span>砖拽 转驻拽  (LARP)</h3>
                    <p class="text-stone-600"> 转  专拽 住驻专 转 住驻专 - 转  转. 砖转转驻  驻转 转 转, 砖 转砖转 驻注 专 转.  转专转 住驻转 砖 转专 专拽爪 驻转.</p>
                </div>
            </div>
        </section>

        <section id="systems" class="mb-16 pt-10">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-2 text-stone-900"> 转? 专转 砖转 砖拽</h2>
            <p class="text-lg text-center text-stone-600 max-w-2xl mx-auto mb-8"> 专驻转拽 爪专 拽. 砖转 砖拽  注专转  注 砖 转驻注.   砖转 驻驻专转 转专 砖专, 砖转转  转.</p>

             <div class="mb-10">
                <div class="chart-container">
                    <canvas id="systemsChart"></canvas>
                </div>
                 <p class="text-center text-sm text-stone-500 mt-2">转专砖  爪 砖 转 砖 专转 专转 拽  砖转 砖转,  注专  专 拽转 转.</p>
            </div>

            <div id="systems-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
            </div>
        </section>

        <section id="community" class="mb-16 pt-10">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-2 text-stone-900">拽: 专, 住 拽爪转</h2>
            <p class="text-lg text-center text-stone-600 max-w-2xl mx-auto mb-8">转  ! 拽转 砖拽 转驻拽 砖专 , 转住住转  砖 砖砖 注专  转.  转爪 转 驻 专 砖注 转 转.</p>
            <div class="flex justify-center space-x-4 space-x-reverse mb-8 flex-wrap items-center">
                <button class="filter-btn community-filter-btn px-4 py-2 rounded-md font-semibold bg-white shadow-sm hover:bg-indigo-100 mb-2" data-filter="all"></button>
                <button class="filter-btn community-filter-btn px-4 py-2 rounded-md font-semibold bg-white shadow-sm hover:bg-indigo-100 mb-2" data-filter="first3">爪 3 专砖</button>
                <button class="filter-btn community-filter-btn px-4 py-2 rounded-md font-semibold bg-white shadow-sm hover:bg-indigo-100 mb-2" data-filter="organization">专</button>
                <button class="filter-btn community-filter-btn px-4 py-2 rounded-md font-semibold bg-white shadow-sm hover:bg-indigo-100 mb-2" data-filter="event">住 专注</button>
                <button class="filter-btn community-filter-btn px-4 py-2 rounded-md font-semibold bg-white shadow-sm hover:bg-indigo-100 mb-2" data-filter="group">拽爪转 </button>
                <input type="text" id="community-search" placeholder="驻砖..." class="p-2 border border-stone-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-2 mr-2">
            </div>
            <div id="community-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            </div>
        </section>

        <section id="resources" class="pt-10 mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-2 text-stone-900">驻 拽 砖拽?</h2>
            <p class="text-lg text-center text-stone-600 max-w-2xl mx-auto mb-8">爪专 拽转, 住驻专 拽  拽 砖拽 ? 转 拽爪注转 注  ,  拽转 砖住驻拽  转   砖爪专.</p>
             <div class="flex justify-center space-x-4 space-x-reverse mb-8 flex-wrap items-center">
                <button class="filter-btn resources-filter-btn px-4 py-2 rounded-md font-semibold bg-white shadow-sm hover:bg-teal-100 mb-2" data-filter="all"></button>
                <button class="filter-btn resources-filter-btn px-4 py-2 rounded-md font-semibold bg-white shadow-sm hover:bg-teal-100 mb-2" data-filter="first3">爪 3 专砖</button>
                <button class="filter-btn resources-filter-btn px-4 py-2 rounded-md font-semibold bg-white shadow-sm hover:bg-teal-100 mb-2" data-filter="business">注住拽 转</button>
                <button class="filter-btn resources-filter-btn px-4 py-2 rounded-md font-semibold bg-white shadow-sm hover:bg-teal-100 mb-2" data-filter="kids"> </button>
                <input type="text" id="resources-search" placeholder="驻砖..." class="p-2 border border-stone-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 mb-2 mr-2">
            </div>
            <div id="resources-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            </div>
        </section>

        <section id="contact" class="pt-10">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-2 text-stone-900">爪专 拽砖专</h2>
            <p class="text-lg text-center text-stone-600 max-w-2xl mx-auto mb-8">
                专爪 住祝 拽 住驻转? 专爪 住祝 转 注住拽 砖?  爪转 注转?
                爪专 拽砖专 砖转 注砖转 转 拽 转 转.
            </p>

            <div class="flex justify-center space-x-4 space-x-reverse mb-8 flex-wrap">
                <button class="contact-btn px-4 py-2 rounded-md font-semibold bg-white shadow-sm hover:bg-purple-100 mb-2" data-platform="gmail">砖  专 Gmail</button>
                <button class="contact-btn px-4 py-2 rounded-md font-semibold bg-white shadow-sm hover:bg-purple-100 mb-2" data-platform="outlook">砖  专 Outlook</button>
                <button class="contact-btn px-4 py-2 rounded-md font-semibold bg-white shadow-sm hover:bg-purple-100 mb-2" data-platform="other">砖  专 驻驻专 专转</button>
            </div>

            <div id="contact-content" class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-lg border border-stone-200 text-right">
                <div id="gmail-outlook-form">
                    <textarea id="email-body-textarea" class="w-full p-3 border border-stone-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 mb-4 h-32" placeholder="转  转 转 ..."></textarea>
                    <button id="send-email-btn" class="bg-purple-600 text-white px-6 py-3 rounded-md font-semibold hover:bg-purple-700 transition-colors duration-200">砖 </button>
                </div>
                <div id="other-email-info" class="hidden text-center">
                    <p class="text-stone-700 text-lg">
                        转 砖  砖专转 转转:
                        <a href="mailto:gate@rrpg.top?subject=%D7%A4%D7%A0%D7%99%D7%99%D7%94%20%D7%91%D7%A0%D7%95%D7%A9%D7%90%20%D7%9C%D7%90%D7%AA%D7%A8%20%D7%A9%D7%A2%D7%A8%20%D7%94%D7%A8%D7%A4%D7%AA%D7%A7%D7%94" class="text-purple-600 hover:underline font-bold">gate@rrpg.top</a>
                    </p>
                </div>
            </div>
        </section>

    </main>
    
    <footer class="text-center py-6 mt-12 bg-stone-200 border-t border-stone-300">
        <p class="text-stone-600">爪专  注专 拽转 砖拽 转驻拽 砖专 注" <a href="rrpg.top" class="text-indigo-600 hover:underline">专 爪专-抓'</a>.</p>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const systemsData = [
        { 
            name: " 专拽 (D&D 5e)", 
            description: "砖拽 驻驻专 转专 注, 爪注 转 驻 拽住转.  砖 爪专 驻  砖 驻, 拽转 转 住专转 砖转祝 驻注 专转 注拽.",
            why: "拽转 住 住专转 转. 拽 爪 拽爪 专 转,  '注专转 转' 爪转.",
            complexity: 10,
            color: 'rgba(220, 38, 38, 0.7)',
            link: "https://www.dndbeyond.com/posts/1480-what-is-dungeons-dragons?srsltid=AfmBOopzDWbsP4e1DMGMjSrMehoPdOZu_TQuJxejwUSFIloncFH2nZBV"
        },
        { 
            name: "专转 砖驻", 
            description: "专 砖专砖 砖 砖拽 转驻拽, 注 砖 拽转-拽 砖 注转 爪专转转 转专 爪 砖拽 .",
            why: "注 转 . 注专转 转 注专转 转 转 砖拽 爪注-专-爪注,  专驻转拽转 住.",
            complexity: 3,
            color: 'rgba(217, 119, 6, 0.7)',
            link: "https://swordsandwizardry.co.il/"
        },
        { 
            name: "驻转'驻专 注转 驻专", 
            description: "砖 爪 砖 注 驻 注砖专 砖 '驻转'驻专' 注 注 拽 专 拽注 砖 '注转 驻专'.",
            why: " 砖 注转 - 注拽 注转 注 拽 拽. 住驻专 住住 注专转  转   砖爪专  转 砖拽.",
            complexity: 6,
            color: 'rgba(34, 197, 94, 0.7)',
            link: "https://pundak.games/savage-pathfinder/?srsltid=AfmBOorJInYvkaiDvnSU9dOQqbwjYhR4CbJucsDCyYcMt02V0Hnp0D3g"
        },
        { 
            name: "驻", 
            description: "砖拽 转驻拽 砖专 驻砖专  专-注 注 驻 专.  砖 砖 注 住驻专 砖 转驻转转 转.",
            why: "砖 砖专转 拽专转, 拽  转  砖驻砖  转 砖 专-注 注 注拽 专砖.",
            complexity: 4,
            color: 'rgba(255, 165, 0, 0.7)', // Orange color
            link: "https://store.roleplay.org.il/product/%D7%A4%D7%9C%D7%90%D7%99%D7%9D-%D7%92%D7%99%D7%91%D7%95%D7%A8%D7%99-%D7%94%D7%9E%D7%97%D7%A8/"
        }
    ];

    const communityData = [
        { name: "注转 砖拽 转驻拽 砖专", type: "organization", description: "祝 专 拽 转. 专转 住 (专), 转转 爪专 驻注 转 爪转 '专'.", link: "https://roleplay.org.il/" },
        { name: " \" 驻住", type: "organization", description: "砖转驻 专 住 专  驻住 拽, 拽转 转 转专转 '专 砖专.", link: "https://www.sf-f.org.il/" },
        { name: "驻拽", type: "organization", description: "拽 拽转 转拽 , 专转 砖 住 '专拽拽'. 爪 专 砖拽 注专转.", link: "https://www.pundak.co.il/" },
        { name: "专驻 专", type: "organization", description: "专 砖专 砖拽 专驻. 专 专注 专抓 \"  拽 注 爪.", link: "https://www.larp-g.com/" },
        { name: "驻住 拽", type: "event", description: "专注  砖转 砖 拽转  '专, 注 转 注拽 砖拽 转驻拽,  注.", link: "https://www.icon.org.il/" },
        { name: "住 专拽拽", type: "event", description: "住 砖拽 砖  砖专, 转拽 住 爪注  注爪 砖 砖拽 转 转拽.", link: "https://dragoncon.co.il/" },
        { name: "专驻 专", type: "event", description: "专注 专驻 转拽 注 砖 注 住驻专 转砖 注 注砖专  砖拽 注爪 转 注.", link: "https://libra.co.il/" },
        { name: "住 专拽", type: "event", description: "住 砖拽 转驻拽 驻 转拽 专, 注 砖 注 拽转 爪驻.", link: "https://karmicon.roleplay.org.il/index.html" },
        { name: "住 专转", type: "event", description: "住 砖转 注 , 驻 砖拽 转驻拽, 爪注  驻注转 专爪转.", link: "https://dorot-con.org.il/" },
        { name: "砖拽 转驻拽 砖专 (驻住拽)", type: "group", description: "拽爪  驻注 转专 , 砖转祝, 爪转 拽爪转 砖拽.", link: "https://www.facebook.com/groups/roleplayersinisrael" },
        { name: "专驻 砖专 (驻住拽)", type: "group", description: "拽爪 专转 砖 拽转 专驻 , 注 注 专注 转.", link: "https://www.facebook.com/groups/israelilarp" },
        { name: "驻专 驻砖 砖拽 驻拽", type: "group", description: " 注转 转拽 注 转专 爪转 拽爪转 砖拽 驻 专 专驻.", link: "https://www.pundak.co.il/forums/%D7%97%D7%99%D7%A4%D7%95%D7%A9-%D7%A9%D7%97%D7%A7%D7%A0%D7%99%D7%9D-%D7%9E%D7%A0%D7%97%D7%99%D7%9D-%D7%95%D7%A7%D7%91%D7%95%D7%A6%D7%95%D7%AA-%D7%9E%D7%A9%D7%97%D7%A7%D7%99-%D7%AA%D7%A4%D7%A7%D7%99%D7%93%D7%99%D7%9D.31/" },
        { name: "专驻专 专砖", type: "group", description: "拽爪转 驻住拽 注转 驻砖 拽爪转 专注 专 专砖.", link: "https://www.facebook.com/share/g/15fN96jBnU/" },
        { name: "转 爪驻 - 爪注  ", type: "group", description: "拽爪转 驻住拽 拽转 砖拽 转驻拽 爪注  .", link: "https://www.facebook.com/groups/1628946144025403/" },
        { name: "专转 专 - 注 砖拽 转驻拽 砖 专 砖注", type: "group", description: "拽爪转 驻住拽 注 砖拽 转驻拽 砖 专 砖注 住.", link: "https://www.facebook.com/WindsoftheSouth" }
    ];

    const resourcesData = [
        { name: "驻专拽 (Freak)", type: "business", location: "转  (祝 住专)", description: "转 砖拽 拽 祝-住专 爪注  专 砖 砖拽 转驻拽, 拽驻 .", link: "https://www.freak-tlv.com/" },
        { name: "DRIX 驻", type: "business", location: "驻", description: "转 拽驻 砖拽 注 专 D&D 注 住驻专转 砖拽  注拽转.", link: "https://www.drixhaifa.com/" },
        { name: "Rooms & Realms", type: "business", location: "专转", description: "爪注 专 RPG 注 注爪 转 砖拽 住驻转.", link: "https://www.roomsandrealms.com/" },
        { name: "专驻 专 (LARP Gladiator)", type: "business", location: "砖专 (专)", description: "专 专注 专驻 砖专 注  拽专 爪 转驻砖转 专驻.", link: "https://www.larp-g.com/" },
        { name: "  (Wise Goblin)", type: "business", location: "专砖 爪, 专爪", description: "专 砖拽 注爪 注 爪 注砖专,  拽爪注 转.", link: "https://wisegoblin.com/" },
        { name: "iNexus", type: "business", location: "专砖 爪", description: "转 转 爪专 D&D, 砖拽 拽驻 专.", link: "https://www.inexus.co.il/" },
        { name: "", type: "business", location: " 砖专", description: "转 砖拽 拽 爪注  专 砖 砖拽 转驻拽, 拽驻 .", link: "https://thekingdom.co.il/" },
        { name: "拽专 砖驻注 (Keren HaShefa)", type: "kids", location: "砖 ", description: "爪专转 专驻转拽转 砖拽 转驻拽, 驻注 拽转 , 驻注转  转  注.", link: "https://xn----8hc5aojohl.co.il/" },
        { name: "砖砖转 专 (Shoshanat HaMidbar)", type: "kids", location: "爪驻 专抓", description: "驻注  注砖专  专 砖 砖转 转 住驻专 转\"住.", link: "https://hashoshana.co.il/" },
        { name: "拽转 砖拽 转驻拽", type: "kids", location: "拽", description: "专  拽  注专 注 砖 注 注爪 转 专转转.", link: "https://www.habiktamt.com/" },
        { name: "砖注专 ", type: "kids", location: "专 砖专", description: " D&D 拽爪转 拽转 注  住, 转 砖 注 驻转 砖专.", link: "https://dramaplay.co.il/" },
        { name: "MYDM", type: "kids", location: "砖驻转 ", description: " 砖拽 转驻拽  注专, 砖 注 驻转 爪专转转 转 专转转.", link: "https://www.facebook.com/MosheYaminDongeonMaster/" }
    ];

    const systemsContainer = document.getElementById('systems-container');
    systemsData.forEach(system => {
        const card = document.createElement('div');
        card.className = 'card bg-white rounded-lg shadow-lg border border-stone-200 overflow-hidden';
        card.innerHTML = `
            <div class="p-6 cursor-pointer" onclick="toggleDetails(this)">
                <h3 class="text-xl font-bold text-gray-800 mb-2">
                    <a href="${system.link}" target="_blank" rel="noopener noreferrer" class="hover:text-indigo-600">${system.name}</a>
                </h3>
                <p class="text-stone-600">${system.description}</p>
                 <div class="flex items-center justify-end mt-4 text-sm font-semibold text-indigo-600">
                    <span>驻专 住驻</span>
                    <svg class="w-4 h-4 mr-2 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </div>
            </div>
            <div class="details-content bg-gray-50">
                <div class="p-6 border-t border-gray-200">
                    <h4 class="font-bold text-gray-700 mb-2">   转?</h4>
                    <p class="text-stone-600">${system.why}</p>
                </div>
            </div>
        `;
        systemsContainer.appendChild(card);
    });

    const communityContainer = document.getElementById('community-container');
    const resourcesContainer = document.getElementById('resources-container');

    function createCard(item) {
        let typeLabel = '';
        let typeColor = '';
        switch(item.type) {
            case 'organization': typeLabel = '专'; typeColor = 'bg-blue-100 text-blue-800'; break;
            case 'event': typeLabel = '专注/住'; typeColor = 'bg-purple-100 text-purple-800'; break;
            case 'group': typeLabel = '拽爪转 '; typeColor = 'bg-green-100 text-green-800'; break;
            case 'business': typeLabel = '注住拽/转'; typeColor = 'bg-yellow-100 text-yellow-800'; break;
            case 'kids': typeLabel = ' '; typeColor = 'bg-pink-100 text-pink-800'; break;
        }
        
        return `
            <a href="${item.link}" target="_blank" rel="noopener noreferrer" class="card block bg-white p-6 rounded-lg shadow-lg border border-stone-200 hover:border-indigo-400">
                <div class="flex justify-between items-start">
                    <h3 class="text-lg font-bold text-stone-800 mb-2">${item.name}</h3>
                    <span class="text-xs font-semibold px-2 py-1 rounded-full ${typeColor}">${typeLabel}</span>
                </div>
                ${item.location ? `<p class="text-sm text-stone-500 mb-2 font-semibold"> ${item.location}</p>` : ''}
                <p class="text-stone-600 text-sm">${item.description}</p>
            </a>
        `;
    }

    function calculateRelevance(item, query) {
        const lowerQuery = query.toLowerCase();
        let score = 0;

        // Exact match on name
        if (item.name.toLowerCase() === lowerQuery) {
            score += 100;
        }
        // Name starts with
        if (item.name.toLowerCase().startsWith(lowerQuery)) {
            score += 50;
        }
        // Name contains
        if (item.name.toLowerCase().includes(lowerQuery)) {
            score += 20;
        }
        // Description contains
        if (item.description.toLowerCase().includes(lowerQuery)) {
            score += 10;
        }
        // Location contains (if applicable)
        if (item.location && item.location.toLowerCase().includes(lowerQuery)) {
            score += 5;
        }
        return score;
    }

    function renderCards(container, data, filter, searchQuery = '') {
        let filteredData = data;

        if (filter === 'first3') {
            filteredData = data.slice(0, 3);
        } else if (filter !== 'all') {
            filteredData = data.filter(item => item.type === filter);
        }

        if (searchQuery) {
            const query = searchQuery.toLowerCase();
            filteredData = filteredData
                .map(item => ({ item, score: calculateRelevance(item, query) }))
                .filter(entry => entry.score > 0)
                .sort((a, b) => b.score - a.score)
                .map(entry => entry.item);
        }

        container.innerHTML = filteredData.map(createCard).join('');
    }
    
    renderCards(communityContainer, communityData, 'all');
    renderCards(resourcesContainer, resourcesData, 'all');

    document.querySelector('.community-filter-btn[data-filter="all"]').classList.add('active');
    document.querySelector('.resources-filter-btn[data-filter="all"]').classList.add('active');


    function setupFilter(containerId, data, buttonClass, searchInputId) {
        const container = document.getElementById(containerId);
        const buttons = document.querySelectorAll(`.${buttonClass}`);
        const searchInput = document.getElementById(searchInputId);
        let currentFilter = 'all'; // Keep track of the active filter

        buttons.forEach(button => {
            button.addEventListener('click', () => {
                currentFilter = button.dataset.filter; // Update active filter
                buttons.forEach(btn => btn.classList.remove('active', 'bg-indigo-600', 'text-white', 'bg-teal-600'));
                button.classList.add('active');
                if (buttonClass.includes('community')) {
                   button.classList.add('bg-indigo-600', 'text-white');
                } else {
                   button.classList.add('bg-teal-600', 'text-white');
                }

                renderCards(container, data, currentFilter, searchInput.value); // Pass current search query
            });
        });

        searchInput.addEventListener('input', () => {
            renderCards(container, data, currentFilter, searchInput.value); // Pass current filter and search query
        });
    }

    setupFilter('community-container', communityData, 'community-filter-btn', 'community-search');
    setupFilter('resources-container', resourcesData, 'resources-filter-btn', 'resources-search');


    window.toggleDetails = function(element) {
        const content = element.nextElementSibling;
        const svg = element.querySelector('svg');
        if (content.style.maxHeight && content.style.maxHeight !== '0px') {
            content.style.maxHeight = '0px';
            svg.style.transform = 'rotate(0deg)';
        } else {
            content.style.maxHeight = content.scrollHeight + "px";
            svg.style.transform = 'rotate(180deg)';
        }
    }
    
    const ctx = document.getElementById('systemsChart').getContext('2d');
    const systemsChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: systemsData.map(s => s.name),
            datasets: [{
                label: '专转 拽 ( 转专 = 驻砖 转专)',
                data: systemsData.map(s => s.complexity),
                backgroundColor: systemsData.map(s => s.color),
                borderColor: systemsData.map(s => s.color.replace('0.7', '1')),
                borderWidth: 1,
                borderRadius: 5
            }]
        },
        options: {
            indexAxis: 'y',
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                x: {
                    beginAtZero: true,
                    max: 10,
                    grid: {
                        color: 'rgba(0,0,0,0.05)'
                    },
                    ticks: {
                       font: {
                           family: "'Assistant', sans-serif"
                       }
                    }
                },
                y: {
                     grid: {
                        display: false
                    },
                    ticks: {
                       font: {
                           family: "'Assistant', sans-serif",
                           size: 13,
                       },
                       autoSkip: false
                    }
                }
            },
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    rtl: true,
                    bodyFont: {
                        family: "'Assistant', sans-serif",
                    },
                    titleFont: {
                         family: "'Assistant', sans-serif",
                    }
                }
            }
        }
    });

    document.getElementById('mobile-nav').addEventListener('change', function() {
        window.location.hash = this.value;
    });

    // Contact section logic
    const contactButtons = document.querySelectorAll('.contact-btn');
    const gmailOutlookForm = document.getElementById('gmail-outlook-form');
    const otherEmailInfo = document.getElementById('other-email-info');
    const emailBodyTextarea = document.getElementById('email-body-textarea');
    const sendEmailBtn = document.getElementById('send-email-btn');

    let currentContactPlatform = 'gmail'; // Default active platform

    function updateContactForm() {
        contactButtons.forEach(btn => btn.classList.remove('active', 'bg-purple-600', 'text-white'));
        document.querySelector(`.contact-btn[data-platform="${currentContactPlatform}"]`).classList.add('active', 'bg-purple-600', 'text-white');

        if (currentContactPlatform === 'gmail' || currentContactPlatform === 'outlook') {
            gmailOutlookForm.classList.remove('hidden');
            otherEmailInfo.classList.add('hidden');
        } else {
            gmailOutlookForm.classList.add('hidden');
            otherEmailInfo.classList.remove('hidden');
        }
    }

    contactButtons.forEach(button => {
        button.addEventListener('click', () => {
            currentContactPlatform = button.dataset.platform;
            updateContactForm();
        });
    });

    sendEmailBtn.addEventListener('click', () => {
        const subject = "驻 砖 转专 砖注专 专驻转拽";
        const recipient = "gate@rrpg.top";
        const body = emailBodyTextarea.value;
        let emailLink = '';

        if (currentContactPlatform === 'gmail') {
            emailLink = `https://mail.google.com/mail/?view=cm&fs=1&to=${encodeURIComponent(recipient)}&su=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
        } else if (currentContactPlatform === 'outlook') {
            emailLink = `https://outlook.live.com/mail/0/deeplink/compose?to=${encodeURIComponent(recipient)}&subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
        } else { // Fallback for 'other' or if something goes wrong
            emailLink = `mailto:${recipient}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
        }
        window.open(emailLink, '_blank');
    });

    // Initialize the contact form on page load
    updateContactForm();
});
</script>
</body>
</html>
